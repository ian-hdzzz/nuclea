
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    {{!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"> --}}
    <link rel="stylesheet" href="/css/profile.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Panel izquierdo: Perfil del empleado -->
        <div class="profile-panel">
            <div class="profile-header">
                <div class="avatar-container">
                    <div class="avatar">
                        <span class="avatar-letter">J</span>
                    </div>
                    <span class="status-indicator"></span>
                </div>
                
                <h2 class="employee-name">{{nombre}}</h2>
                <p class="employee-title">{{departamentos}}</p>
                <span class="status-tag">Active</span>
            </div>
            
            <div class="employee-details">
                <div class="detail-item">
                    <span class="icon"><i class="fas fa-id-card"></i></span>
                    <div class="detail-content">
                        <p class="detail-label">{{id}}</p>
                        <p class="detail-value">1894502849</p>
                    </div>
                </div>
                
                <div class="detail-item">
                    <span class="icon"><i class="fas fa-envelope"></i></span>
                    <div class="detail-content">
                        <p class="detail-label">Email</p>
                        <p class="detail-value">{{email}}</p>
                    </div>
                </div>
                
                <div class="detail-item">
                    <span class="icon"><i class="fas fa-building"></i></span>
                    <div class="detail-content">
                        <p class="detail-label">Department</p>
                        <p class="detail-value">{{departamentos}}</p>
                    </div>
                </div>
                
                <div class="detail-item">
                    <span class="icon"><i class="fas fa-calendar"></i></span>
                    <div class="detail-content">
                        <p class="detail-label">Registration Date</p>
                        <p class="detail-value">{{formatDate registration}}</p>
                    </div>
                </div>
                
                <div class="detail-item">
                    <span class="icon"><i class="fas fa-map-marker-alt"></i></span>
                    <div class="detail-content">
                        <p class="detail-label">Location</p>
                        <p class="detail-value">{{pais}},{{ciudad}},{{calle}}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Panel derecho: Información de rendimiento -->
        <div class="performance-panel">
            <!-- Encabezado del panel de rendimiento -->
            <div class="panel-header">
                <h2 class="panel-title">Performance Summary</h2>
               
            </div>
            
            <!-- Tarjetas de métricas -->
            <div class="metrics-cards">
                <div class="metric-card">
                    <p class="metric-title">Completed Tasks</p>
                    <p class="metric-value">128</p>
                    <p class="metric-change positive">+12%</p>
                </div>
                
                <div class="metric-card">
                    <p class="metric-title">One-to-One Sessions</p>
                    <p class="metric-value">8</p>
                    <p class="metric-change positive">+2</p>
                </div>
                
                <div class="metric-card">
                    <p class="metric-title">Vacation days left</p>
                    <p class="metric-value">3 days</p>
                    <p class="metric-change negative">-1 day</p>
                </div>
            </div>
            
            
            <!-- Acciones rápidas -->
            <div class="quick-actions">
                <h2 class="section-title">Quick Actions</h2>
                
                <div class="action-buttons">
                    <button class="button is-info">Schedule One-to-One</button>
                    <button class="button is-white">Request Time Off</button>
                    <a href="/nuclea/faltasAdministrativas" class="button is-white">Administrative offenses</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Add this code at the end of your body, right before the closing body tag -->

<!-- Popup Overlay -->
<div class="popup-overlay" id="popupOverlay">
    <div class="popup">
        <button class="close-btn" id="closePopupBtn">✕</button>
        <div class="popup-header">
            <h2 class="popup-title">Schedule One-to-One Meeting</h2>
            <p class="popup-subtitle">Select a team member and schedule your one-to-one meeting.</p>
        </div>

        <div class="form-group">
            {{> search
            title="Search team member" 
                    placeholder="Mauricio Hernández..." 
                    searchId="employeeSearch"
                    searchType="users"
                    contacts=employees}}
        </div>

        <div class="form-group">
            <label class="form-label">Date</label>
            <div class="date-picker-container">
                <div class="date-input" id="dateInput">
                    <span class="calendar-icon"><i class="fas fa-calendar"></i></span>
                    <span>Pick a date</span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Time</label>
            <div class="time-picker-container">
                <input type="text" class="time-input" id="timeInput" value="09:00 a.m." readonly>
                <div class="time-dropdown" id="timeDropdown">
                    <div class="hours-column">
                        <div class="time-option selected">09</div>
                        <div class="time-option">10</div>
                        <div class="time-option">11</div>
                        <div class="time-option">12</div>
                        <div class="time-option">01</div>
                        <div class="time-option">02</div>
                        <div class="time-option">03</div>
                    </div>
                    <div class="minutes-column">
                        <div class="time-option selected">00</div>
                        <div class="time-option">15</div>
                        <div class="time-option">30</div>
                        <div class="time-option">45</div>
                    </div>
                    <div class="period-column">
                        <div class="time-option selected">a.m.</div>
                        <div class="time-option">p.m.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="action-buttons popup-buttons">
            <button class="button" id="cancelBtn">Cancel</button>
            <button class="button is-info">Schedule Meeting</button>
        </div>
    </div>
</div>

<!-- Add this script at the end of your body -->
<script>
   

document.addEventListener('DOMContentLoaded', function() {
    // Get the button and popup elements
    const scheduleBtn = document.querySelector('.quick-actions .button.is-info');
    const popupOverlay = document.getElementById('popupOverlay');
    const closePopupBtn = document.getElementById('closePopupBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const timeInput = document.getElementById('timeInput');
    const timeDropdown = document.getElementById('timeDropdown');
    const dateInput = document.getElementById('dateInput');
    
    // Initialize Flatpickr with custom styling
    const datePicker = flatpickr(dateInput, {
        dateFormat: "F j, Y",
        disableMobile: true,
        minDate: "today",
        theme: "dark",
        inline: false,
        onChange: function(selectedDates, dateStr) {
            // Update the text content when a date is selected
            dateInput.innerHTML = `
                <span class="calendar-icon"><i class="fas fa-calendar"></i></span>
                <span>${dateStr}</span>
            `;
        },
        onOpen: function() {
            // Add custom styling to the calendar
            setTimeout(() => {
                const calendar = document.querySelector('.flatpickr-calendar');
                if (calendar) {
                    calendar.style.backgroundColor = '#0B1019';
                    calendar.style.color = 'white';
                    calendar.style.borderColor = '#2C3E50';
                }
            }, 0);
        }
    });
    
    // Open popup when Schedule One-to-One button is clicked
    scheduleBtn.addEventListener('click', function() {
        popupOverlay.classList.add('active');
    });
    
    // Close popup when close button or cancel button is clicked
    closePopupBtn.addEventListener('click', function() {
        popupOverlay.classList.remove('active');
    });
    
    cancelBtn.addEventListener('click', function() {
        popupOverlay.classList.remove('active');
    });
    
    // Toggle time dropdown when time input is clicked
    timeInput.addEventListener('click', function() {
        timeDropdown.classList.toggle('active');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        if (!timeInput.contains(event.target) && !timeDropdown.contains(event.target)) {
            timeDropdown.classList.remove('active');
        }
    });
    
    // Select time options
    const timeOptions = document.querySelectorAll('.time-option');
    timeOptions.forEach(option => {
        option.addEventListener('click', function() {
            // Remove selected class from siblings
            const parent = this.parentElement;
            parent.querySelectorAll('.time-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            this.classList.add('selected');
            
            // Update time input
            updateTimeInput();
        });
    });
    
    function updateTimeInput() {
        const selectedHour = document.querySelector('.hours-column .selected').textContent;
        const selectedMinute = document.querySelector('.minutes-column .selected').textContent;
        const selectedPeriod = document.querySelector('.period-column .selected').textContent;
        
        timeInput.value = `${selectedHour}:${selectedMinute} ${selectedPeriod}`;
    }
});
</script>
    <!-- Font Awesome para los iconos -->



