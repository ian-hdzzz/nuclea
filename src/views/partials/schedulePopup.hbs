<!-- Schedule Meeting Popup Component -->
<style>
/* Reset de posicionamiento para el ícono de búsqueda */
#popupOverlay .popup .search-bar i.fa-magnifying-glass,
#popupOverlay .popup .search-bar i.fa-solid.fa-magnifying-glass.one {
    position: absolute !important;
    left: 25px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 10;
    color: #888;
    margin: 0 !important;
    padding: 0 !important;
}

#popupOverlay .popup .search-input {
    padding: 15px 15px 15px 55px !important;
    width: 100%;
    height: auto;
    line-height: normal;
}

#popupOverlay .popup .search-bar {
    position: relative !important;
    margin: 0 !important;
    padding: 0 !important;
    display: flex;
    align-items: center;
    width: 100%;
}

#popupOverlay .popup .search-input-wrapper {
    position: relative;
    width: 100%;
    padding: 10px;
}
</style>

<div class="popup-overlay" id="popupOverlay">
    <meta name="csrf-token" content="{{csrfToken}}">
    <div class="popup">
        <button class="close-btn" id="closePopupBtn">✕</button>
        <div class="popup-header">
            <h2 class="popup-title">Schedule One-to-One Meeting</h2>
            <p class="popup-subtitle">Select a team member and schedule your one-to-one meeting.</p>
        </div>

        <div class="form-group">
            <div class="search-input-wrapper">
                {{> search
                title="Search team member" 
                placeholder="Type a name..." 
                searchId="employeeSearchPopup"
                searchType="users"
                contacts=employees}}
                <div id="selectedUserTags" class="selected-tags"></div>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Date</label>
            <div class="date-picker-container">
                <div class="date-input" id="dateInput">
                    <span class="calendar-icon"><i class="fas fa-calendar"></i></span>
                    <span>Pick a date</span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Time</label>
            <div class="time-picker-container">
                <input type="text" class="time-input" id="timeInput" value="09:00" placeholder="HH:MM">
                <div class="time-dropdown" id="timeDropdown">
                    <div class="hours-column">
                        {{#times 24}}
                            <div class="time-option">{{#if (lte this 9)}}0{{/if}}{{this}}</div>
                        {{/times}}
                    </div>
                    <div class="minutes-column">
                        <div class="time-option selected">00</div>
                        <div class="time-option">15</div>
                        <div class="time-option">30</div>
                        <div class="time-option">45</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="action-buttons popup-buttons">
            <button class="button" id="cancelBtn">Cancel</button>
            <button class="button is-info">Schedule Meeting</button>
        </div>
    </div>
</div>